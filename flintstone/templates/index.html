<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Welcome to Caveman!</title>
  <link rel="stylesheet" href="/static/css/main.css" type="text/css" media="screen, tv, print" charset="UTF-8" />
</head>
<body>

<% @include includes/toolbar.tmpl %>

<% (format t "== session ====&gt; ~S" (type-of caveman:*session*)) %>
,
<%= (hash-table-size caveman:*session*) %>, count <%= (hash-table-count caveman:*session*) %>
,
<%= (maphash #'(lambda (k v) (format nil "????? ~S" (list k v))) caveman:*session*) %>
<p>
<%= (format nil "~S ~S " (caveman:app-path)(caveman:current-uri)) %>

</p>
<h1>Hello, dynamic Caveman!</h1>

<p><% (format t "This is executed code.") %></p>

<% (loop for x from 1 to 6 do %>
<h<%= x%>>Heading <%= x%></h<%= x%>>
<p> random value is: <%= (random 100) %>
</p>
<% ) %>
<hr>
<p>
<%= (format nil "===== ~s" env) %>
</p>


<h1>Music links</h1>
<%
(cl-who:with-html-output (*standard-output*)
  (loop for (link . title) in 
        '(("http://zappa.com/" . "Frank Zappa")
          ("http://marcusmiller.com/" . "Marcus Miller")
          ("http://www.milesdavis.com/" . "Miles Davis"))
        do (cl-who:htm (:a :href link
                           (:b (cl-who:str title)))
                       :br)))
%>
</body>
</html>
